<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Survey Form</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    <style>
      /* Add a CSS style to make the values in the popup green */
      #selected-values span {
          color: darkgreen;
          font-size: 25px;
          font-family: 'Arial', sans-serif;
          font-weight: bold;
      }
  </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 id="title" class="text-center">Customer Survey Form</h1>
            <p id="description" class="description text-center">Thank you</p>
        </header>
        
        <form id="survey-form">
            <div class="form-group">
                <label id="name-label" for="name">First Name</label>
                <input
                    type="text"
                    id="First Name"
                    name="First Name"
                    class="form-control"
                    placeholder="Enter Your First Name"
                    required
                >
            </div>

            <div class="form-group">
              <label id="name-label" for="name">Last Name</label>
              <input
                  type="text"
                  id="Last Name"
                  name="Last Name"
                  class="form-control"
                  placeholder="Enter Your Last Name"
                  required
              >
            </div>

            <div class="form-group">
              <label id="date-label" for="date">Date of Birth</label>
              <input
                  type="date"
                  id="date"
                  name="date"
                  class="form-control"
                  placeholder="Enter Your Date of Birth"
                  required
              >
          </div>

            <div class="form-group">
              <label id="country-label" for="country">Country</label>
              <select id="country" name="country" class="form-control" required>
                  <option disabled selected value> Select Your Country </option>
                  <option value="afghanistan">Afghanistan</option>
                  <option value="argentina">Argentina</option>
                  <option value="australia">Australia</option>
                  <option value="austria">Austria</option>
                  <option value="bangladesh">Bangladesh</option>
                  <option value="belgium">Belgium</option>
                  <option value="bhutan">Bhutan</option>
                  <option value="brazil">Brazil</option>
                  <option value="canada">Canada</option>
                  <option value="chile">Chile</option>
                  <option value="china">China</option>
                  <option value="colombia">Colombia</option>
                  <option value="denmark">Denmark</option>
                  <option value="egypt">Egypt</option>
                  <option value="finland">Finland</option>
                  <option value="france">France</option>
                  <option value="germany">Germany</option>
                  <option value="greece">Greece</option>
                  <option value="india">India</option>
                  <option value="indonesia">Indonesia</option>
                  <option value="ireland">Ireland</option>
                  <option value="italy">Italy</option>
                  <option value="japan">Japan</option>
                  <option value="malaysia">Malaysia</option>
                  <option value="mexico">Mexico</option>
                  <option value="nepal">Nepal</option>
                  <option value="netherlands">Netherlands</option>
                  <option value="new-zealand">New Zealand</option>
                  <option value="norway">Norway</option>
                  <option value="pakistan">Pakistan</option>
                  <option value="peru">Peru</option>
                  <option value="philippines">Philippines</option>
                  <option value="portugal">Portugal</option>
                  <option value="russia">Russia</option>
                  <option value="singapore">Singapore</option>
                  <option value="south-africa">South Africa</option>
                  <option value="south-korea">South Korea</option>
                  <option value="spain">Spain</option>
                  <option value="sri-lanka">Sri Lanka</option>
                  <option value="sweden">Sweden</option>
                  <option value="switzerland">Switzerland</option>
                  <option value="thailand">Thailand</option>
                  <option value="turkey">Turkey</option>
                  <option value="uk">United Kingdom</option>
                  <option value="usa">United States of America</option>
                  <option value="vietnam">Vietnam</option>
              </select>
          </div>
          
            
          <div class="form-group">
            <p>Gender</p>
            <label>
                <input
                    name="gender[]"
                    value="male"
                    type="checkbox"
                    class="input-checkbox"
                />
                Male
            </label>
            <label>
                <input
                    name="gender[]"
                    value="female"
                    type="checkbox"
                    class="input-checkbox"
                />
                Female
            </label>
            <label>
                <input
                    name="gender[]"
                    value="other"
                    type="checkbox"
                    class="input-checkbox"
                />
                Other
            </label>
        </div>

        <div class="form-group">
          <label id="profession-label" for="profession">Profession</label>
          <input
              type="text"
              id="profession"
              name="profession"
              class="form-control"
              placeholder="Enter Your Profession"
              required
          >
      </div>
              
            <div class="form-group">
                <label id="email-label" for="email">Email</label>
                <input
                    type="email"
                    id="email"
                    name="email"
                    class="form-control"
                    placeholder="Enter Your Email"
                    required
                >
            </div>

            <div class="form-group">
              <label id="phone-label" for="phone">Phone Number</label>
              <input
                  type="number"
                  id="phone"
                  name="phone"
                  class="form-control"
                  placeholder="Enter Your Phone Number"
                  pattern="[0-9]{10}"
                  required
              >
          </div>
            
            <div class="form-group button-container">
              <button type="reset" id="reset" class="reset-button">Reset</button>
              <button type="submit" id="submit" class="submit-button">Submit</button>
          </div>

          <div id="popup" class="popup">
            <div class="popup-content">
                <span class="close" onclick="closePopup()">&times;</span>
                <h2 style="display: flex; justify-content: center; align-items: center; height: 100%;">Given Details</h2>
                <div id="selected-values"></div>
            </div>
        </div>
        
          
          <script>
            document.getElementById("survey-form").addEventListener("submit", function (event) {
                const phoneInput = document.getElementById("phone");
                const phoneValue = phoneInput.value;
        
                if (phoneValue.length !== 10 || !/^\d{10}$/.test(phoneValue)) {
                    alert("Phone number must be 10 digits.");
                    event.preventDefault(); 
                }
            });
        </script>

        <script>
          
          const dateInput = document.getElementById('date');

         
          const today = new Date();
          const dd = String(today.getDate()).padStart(2, '0');
          const mm = String(today.getMonth() + 1).padStart(2, '0'); 
          const yyyy = today.getFullYear();
          const maxDate = yyyy + '-' + mm + '-' + dd;

          
          dateInput.setAttribute('max', maxDate);


          document.getElementById("survey-form").addEventListener("submit", function (event) {
          var checkboxes = document.querySelectorAll('input[type="checkbox"]');
          var checked = false;

          for (var i = 0; i < checkboxes.length; i++) {
              if (checkboxes[i].checked) {
                  checked = true;
                  break;
              }
          }

          if (!checked) {
              alert("Please select gender.");
              event.preventDefault(); 
          }
      });

          function openPopup() {
            const form = document.getElementById("survey-form");
            const popup = document.getElementById("popup");
            const selectedValues = document.getElementById("selected-values");

            
            selectedValues.innerHTML = '';

            
            const elements = form.elements;
            for (let i = 0; i < elements.length; i++) {
              const element = elements[i];
              if (element.tagName === 'INPUT' && (element.type === 'text' || element.type === 'email' || element.type === 'date' || element.type === 'number')) {
                selectedValues.innerHTML += `<p>${element.previousElementSibling.innerText}: <span> ${element.value}</span> </p>`;
              }
              if (element.tagName === 'SELECT') {
                const selectedOption = element.options[element.selectedIndex];
                selectedValues.innerHTML += `<p>${element.previousElementSibling.innerText}: <span> ${selectedOption.innerText} </span> </p>`;
              }
              if (element.tagName === 'INPUT' && element.type === 'checkbox' && element.checked) {
                selectedValues.innerHTML += `<p>Gender: <span> ${element.value} </span> </p>`;
              }
            }

            popup.style.display = "block";
          }


          function closePopup() {
            const popup = document.getElementById("popup");
            const form = document.getElementById("survey-form");

            popup.style.display = "none";

            const elements = form.elements;
            for (let i = 0; i < elements.length; i++) {
              const element = elements[i];

              if (element.type === "text" || element.type === "email" || element.tagName === "SELECT" || element.type === "date" || element.type === "number") {
                element.value = "";
              }
              if (element.type === "checkbox") {
                element.checked = false;
              }
            }
          }




        document.getElementById("survey-form").addEventListener("submit", function(event) {
          event.preventDefault(); 
          openPopup(); 
        });


        </script>

        
        </form>
    </div>
</body>
</html>
